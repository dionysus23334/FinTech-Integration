# 东方财富实操

通过url构成直接找数据真实接口，来做直接爬取，url构成需要摸索

以下为已摸索的参数，这些参数是抓取 **东方财富网股票K线数据接口** 中的关键参数，用于控制返回的时间粒度、前复权类型、返回数量等。下面是对它们的详细解释：

---

### ✅ `klt` —— K线类型（K Line Type）

代表时间周期（粒度），是获取哪种周期的K线图。

| klt 值 | 含义 | 示例 |
| --- | --- | --- |
| `1` | 1分钟K线 | 高频数据 |
| `5` | 5分钟K线 | 高频数据 |
| `15` | 15分钟K线 | 高频数据 |
| `30` | 30分钟K线 | 高频数据 |
| `60` | 60分钟K线 | 高频数据 |
| `101` | 日K线（默认） | 一般使用 |
| `102` | 周K线 |  |
| `103` | 月K线 |  |

---

### ✅ `fqt` —— 复权类型（FuQuan Type）

表示返回数据的复权方式（处理历史除权的方式）：

| fqt 值 | 复权方式 | 说明 |
| --- | --- | --- |
| `0` | 不复权 | 原始数据，适合短期分析 |
| `1` | 前复权（默认） | 用当前价格还原过去价格，适合技术分析 |
| `2` | 后复权 | 用历史价格推演当前价格，不常用于技术分析 |

> 复权是为了修正因分红、配股导致的股价不连续问题。前复权是最常用的。
> 

---

### ✅ `lmt` —— 限制数量（Limit）

表示返回的K线数据条数。

- `lmt=120`：返回最近 120 条K线数据
- `lmt=1000`：最多可返回 1000 条（该接口上限），用于获取较长时间的数据

---

### ✅ 结合举例

```
https://push2his.eastmoney.com/api/qt/stock/kline/get?
secid=0.002040&klt=101&fqt=1&lmt=120

```

表示：

- 股票代码是深市002040（`0.`代表深市，`1.`代表沪市）
- 返回日K线数据（`klt=101`）
- 使用**前复权**（`fqt=1`）
- 返回**最近120天**的数据

---

### ✅ 小建议

如果想获取**完整的历史K线数据**，可以设成：

```
klt=101&fqt=1&lmt=1000

```

如果想获取1分钟数据的当日实时更新，可以设：

```
klt=1&fqt=0&lmt=240

```

---

# 关于字段

```python
field_mapping_zh = {
    "f2": "最新价",
    "f3": "今日涨跌(%)",
    "f225": "今日排名",
    "f12": "代码",
    "f14": "名称",
    "f100": "所属板块",
    "f109": "5日涨跌",
    "f160": "10日涨跌",
    "f165": "5日排行榜主力净占比",
    "f175": "10日排行榜主力净占比",
    "f184": "今日排行榜主力净占比",
    "f263": "5日排名",
    "f264": "10日排名"
}

```

## 关于fields2

```python
mapping_field = {
    'f51': '日期',
    'f52': '开盘价',
    'f53': '收盘价',
    'f54': '最高价',
    'f55': '最低价',
    'f56': '成交量',
    'f57': '成交额',
    'f58': '振幅',
    'f59': '涨跌幅',
    'f60': '涨跌额'
}
# 这里的所有幅都是百分比

```
